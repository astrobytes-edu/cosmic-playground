---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const playlists = await getCollection("playlists");
---

<Layout title="Playlists — Cosmic Playground">
  <h1>Playlists</h1>
  <p class="lede">Curated sequences you can assign or work through in order.</p>

  <div class="grid" aria-label="Playlists">
    {playlists.map((p) => (
      <a class="card" href={`${import.meta.env.BASE_URL}playlists/${p.slug}/`}>
        <h2>{p.data.title}</h2>
        <p class="meta">{p.data.audience} • ~{p.data.estimated_minutes} min</p>
        <p class="desc">{p.data.overview}</p>
      </a>
    ))}
  </div>
</Layout>

<style>
  .lede {
    margin: 6px 0 14px;
    color: var(--cp-muted);
    max-width: 72ch;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 12px;
  }

  .card {
    display: block;
    padding: 14px;
    border-radius: var(--cp-r-3);
    border: 1px solid var(--cp-border);
    background: var(--cp-bg1);
    text-decoration: none;
  }

  .card:hover {
    background: var(--cp-bg2);
  }

  h2 {
    margin: 0;
    font-size: 1.2rem;
  }

  .meta {
    margin: 8px 0 0;
    color: var(--cp-muted);
  }

  .desc {
    margin: 10px 0 0;
    color: var(--cp-text);
  }
</style>
