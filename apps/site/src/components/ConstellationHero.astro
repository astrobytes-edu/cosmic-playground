---
/**
 * SVG constellation motif for the home hero.
 * Draws itself with a stroke-dashoffset animation on load.
 * Uses Orion-inspired geometry — recognizable but stylized.
 * Decorative only (aria-hidden).
 */
---

<div class="constellation" aria-hidden="true">
  <svg
    class="constellation__svg"
    viewBox="0 0 200 200"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    {/* Star dots — glow circles at vertices */}
    <circle cx="80"  cy="30"  r="2.5" class="constellation__star" />
    <circle cx="120" cy="35"  r="2"   class="constellation__star" />
    <circle cx="65"  cy="80"  r="3"   class="constellation__star constellation__star--bright" />
    <circle cx="135" cy="75"  r="2.5" class="constellation__star" />
    <circle cx="90"  cy="105" r="2"   class="constellation__star" />
    <circle cx="110" cy="100" r="2"   class="constellation__star" />
    <circle cx="100" cy="115" r="1.8" class="constellation__star" />
    <circle cx="70"  cy="150" r="2.5" class="constellation__star" />
    <circle cx="130" cy="155" r="3"   class="constellation__star constellation__star--bright" />
    <circle cx="55"  cy="175" r="2"   class="constellation__star" />
    <circle cx="145" cy="180" r="2"   class="constellation__star" />

    {/* Connecting lines — drawn with stroke-dashoffset animation */}
    <g class="constellation__lines">
      {/* Shoulders */}
      <line x1="80"  y1="30"  x2="120" y2="35" />
      {/* Left shoulder to belt */}
      <line x1="80"  y1="30"  x2="65"  y2="80" />
      {/* Right shoulder to belt */}
      <line x1="120" y1="35"  x2="135" y2="75" />
      {/* Left arm to belt center */}
      <line x1="65"  y1="80"  x2="90"  y2="105" />
      {/* Right arm to belt center */}
      <line x1="135" y1="75"  x2="110" y2="100" />
      {/* Belt */}
      <line x1="90"  y1="105" x2="100" y2="115" />
      <line x1="100" y1="115" x2="110" y2="100" />
      {/* Left leg */}
      <line x1="90"  y1="105" x2="70"  y2="150" />
      <line x1="70"  y1="150" x2="55"  y2="175" />
      {/* Right leg */}
      <line x1="110" y1="100" x2="130" y2="155" />
      <line x1="130" y1="155" x2="145" y2="180" />
    </g>
  </svg>
</div>

<style>
  .constellation {
    position: absolute;
    top: 50%;
    right: clamp(1rem, 5vw, 4rem);
    transform: translateY(-50%);
    width: clamp(120px, 18vw, 220px);
    aspect-ratio: 1;
    opacity: 0.18;
    pointer-events: none;
  }

  .constellation__svg {
    width: 100%;
    height: 100%;
  }

  .constellation__star {
    fill: color-mix(in srgb, var(--cp-celestial-star) 70%, transparent);
    filter: blur(0.3px);
  }

  .constellation__star--bright {
    fill: color-mix(in srgb, var(--cp-celestial-star) 90%, transparent);
    filter: blur(0.5px);
  }

  .constellation__lines line {
    stroke: color-mix(in srgb, var(--cp-celestial-star) 25%, transparent);
    stroke-width: 0.8;
    stroke-dasharray: 200;
    stroke-dashoffset: 200;
    animation: draw-constellation 2.5s var(--cp-ease-out) forwards;
  }

  /* Stagger each line slightly */
  .constellation__lines line:nth-child(1)  { animation-delay: 0.3s; }
  .constellation__lines line:nth-child(2)  { animation-delay: 0.5s; }
  .constellation__lines line:nth-child(3)  { animation-delay: 0.6s; }
  .constellation__lines line:nth-child(4)  { animation-delay: 0.8s; }
  .constellation__lines line:nth-child(5)  { animation-delay: 0.9s; }
  .constellation__lines line:nth-child(6)  { animation-delay: 1.1s; }
  .constellation__lines line:nth-child(7)  { animation-delay: 1.2s; }
  .constellation__lines line:nth-child(8)  { animation-delay: 1.4s; }
  .constellation__lines line:nth-child(9)  { animation-delay: 1.6s; }
  .constellation__lines line:nth-child(10) { animation-delay: 1.7s; }
  .constellation__lines line:nth-child(11) { animation-delay: 1.9s; }

  @keyframes draw-constellation {
    to {
      stroke-dashoffset: 0;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .constellation__lines line {
      animation: none;
      stroke-dashoffset: 0;
    }
  }

  @media (max-width: 767px) {
    .constellation {
      display: none;
    }
  }
</style>
