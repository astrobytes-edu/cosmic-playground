:root {
  color-scheme: dark;

  /* ---------- Neutrals (muted spectral minimalism) ---------- */
  --cp-bg0: #0f1115;    /* ink */
  --cp-bg1: #171b22;    /* slate */
  --cp-bg2: #21222b;    /* lavender-gray */
  --cp-bg3: color-mix(in srgb, var(--cp-bg2) 80%, var(--cp-bg0));
  --cp-border: rgba(255, 255, 255, 0.08);
  --cp-border-subtle: rgba(255, 255, 255, 0.06);

  /* ---------- Text (derived from ink, no chroma) ---------- */
  --cp-text: color-mix(in srgb, #ffffff 88%, var(--cp-bg0));
  --cp-text2: color-mix(in srgb, #ffffff 64%, var(--cp-bg0));
  --cp-muted: color-mix(in srgb, #ffffff 46%, var(--cp-bg0));
  --cp-faint: color-mix(in srgb, #ffffff 32%, var(--cp-bg0));
  --cp-text-3: var(--cp-muted);

  /* ---------- Links (subtle chroma shifts) ---------- */
  --cp-link: color-mix(in srgb, var(--cp-accent) 70%, var(--cp-text));
  --cp-link-hover: color-mix(in srgb, var(--cp-accent) 85%, var(--cp-text));
  --cp-link-active: var(--cp-accent);

  /* ---------- Titles ---------- */
  --cp-title: color-mix(in srgb, var(--cp-accent) 55%, var(--cp-text));
  --cp-title-strong: color-mix(in srgb, var(--cp-accent) 70%, var(--cp-text));

  /* ---------- Accents (muted teal + dusty rose + slate violet) ---------- */
  --cp-accent: #2f8c8d;       /* muted teal */
  --cp-accent-hover: color-mix(in srgb, var(--cp-accent) 85%, white);
  --cp-pink: #b07a93;         /* dusty rose */
  --cp-pink-hover: color-mix(in srgb, var(--cp-pink) 85%, white);
  --cp-violet: #6d7794;       /* slate violet */
  --cp-violet-hover: color-mix(in srgb, var(--cp-violet) 85%, white);

  /* Legacy aliases (for gradual migration) */
  --cp-accent2: var(--cp-violet);
  --cp-accent3: var(--cp-accent);  /* links now use teal */
  --cp-accent4: var(--cp-pink);

  /* ---------- Status ---------- */
  --cp-success: #34d399;
  --cp-warning: #fbbf24;
  --cp-danger: #fb7185;

  /* ---------- Glows (subtle, muted) ---------- */
  --cp-glow-teal: color-mix(in srgb, var(--cp-accent) 10%, transparent);
  --cp-glow-pink: color-mix(in srgb, var(--cp-pink) 6%, transparent);
  --cp-glow-violet: color-mix(in srgb, var(--cp-violet) 8%, transparent);

  /* Legacy aliases */
  --cp-glow-accent: var(--cp-glow-teal);
  --cp-glow-blue: var(--cp-glow-violet);  /* map old blue → violet */
  --cp-glow-magenta: var(--cp-glow-pink);

  /* ---------- Glow System (30-50% opacity — celestial objects emit light) ---------- */
  --cp-glow-sun: 0 0 40px 10px rgba(255, 200, 100, 0.45);
  --cp-glow-moon: 0 0 30px 8px rgba(200, 200, 220, 0.35);
  --cp-glow-planet: 0 0 20px 5px rgba(100, 150, 255, 0.30);
  --cp-glow-star: 0 0 15px 3px rgba(255, 255, 255, 0.40);
  --cp-glow-accent-teal: 0 0 25px 6px rgba(45, 212, 191, 0.35);
  --cp-glow-accent-rose: 0 0 25px 6px rgba(244, 114, 182, 0.35);
  --cp-glow-accent-violet: 0 0 25px 6px rgba(167, 139, 250, 0.35);

  /* ---------- Celestial Object Palette ---------- */
  --cp-celestial-sun: #fbbf24;
  --cp-celestial-sun-core: #fff5cc;
  --cp-celestial-sun-corona: #ff8c00;
  --cp-celestial-moon: #e2e8f0;
  --cp-celestial-moon-dark: #3a3a4a;
  --cp-celestial-earth: #3b82f6;
  --cp-celestial-earth-land: #4a9d4a;
  --cp-celestial-mars: #ef4444;
  --cp-celestial-jupiter: #d4a574;
  --cp-celestial-venus: #f5deb3;
  --cp-celestial-saturn: #e8d5a3;
  --cp-celestial-star: #ffffff;
  --cp-celestial-orbit: var(--cp-violet);

  /* ---------- Instrument Accents (spacecraft control panel palette) ---------- */
  --cp-accent-amber: #FFB86C;
  --cp-accent-green: #50FA7B;
  --cp-accent-ice: #8BE9FD;
  --cp-accent-rose: #FF79C6;

  /* ---------- Data Visualization ---------- */
  /* Categorical palette - perceptually distinct, colorblind-safe */
  --cp-chart-1: var(--cp-accent);     /* teal */
  --cp-chart-2: var(--cp-pink);       /* pink */
  --cp-chart-3: var(--cp-violet);     /* violet */
  --cp-chart-4: #facc15;              /* yellow */
  --cp-chart-5: #fb923c;              /* orange */

  /* Semantic data colors */
  --cp-data-positive: var(--cp-success);
  --cp-data-negative: var(--cp-danger);
  --cp-data-neutral: var(--cp-muted);

  /* ---------- Selection & Focus ---------- */
  --cp-selection-bg: color-mix(in srgb, var(--cp-pink) 22%, transparent);
  --cp-focus: color-mix(in srgb, var(--cp-accent) 55%, transparent);
  --cp-focus-ring: 2px solid var(--cp-focus);

  /* ---------- Form Inputs ---------- */
  --cp-input-bg: var(--cp-bg1);
  --cp-input-border: var(--cp-border);
  --cp-input-focus: var(--cp-focus);
  --cp-input-placeholder: var(--cp-faint);

  /* ---------- Typography ---------- */
  --cp-font-display: "Outfit", ui-sans-serif, system-ui, sans-serif;
  --cp-font-sans: "Source Sans 3", "Inter", ui-sans-serif, system-ui,
    -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  --cp-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* Text sizes (projection-optimized: larger base) */
  --cp-text-sm: 0.875rem;    /* 14px - badges only */
  --cp-text-md: 1.125rem;    /* 18px - body */
  --cp-text-lg: 1.25rem;     /* 20px - lead paragraphs */
  --cp-text-xl: 1.5rem;      /* 24px - h4, card titles */
  --cp-text-2xl: 1.875rem;   /* 30px - h3 */
  --cp-text-3xl: 2.25rem;    /* 36px - h2 */
  --cp-text-4xl: 3rem;       /* 48px - h1 */
  --cp-text-hero: 4rem;      /* 64px - home hero */

  /* Line heights */
  --cp-leading-tight: 1.25;
  --cp-leading-normal: 1.5;
  --cp-leading-relaxed: 1.75;

  /* Font weights */
  --cp-font-normal: 400;
  --cp-font-medium: 500;
  --cp-font-semibold: 600;
  --cp-font-bold: 700;

  /* ---------- Transitions & Motion ---------- */
  --cp-transition-fast: 150ms;
  --cp-transition-normal: 200ms;
  --cp-transition-slow: 300ms;

  /* Durations for enter/exit animations */
  --cp-duration-enter: 250ms;
  --cp-duration-exit: 200ms;

  /* Easing curves */
  --cp-ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --cp-ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --cp-ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Stagger delay for sequential animations */
  --cp-stagger: 50ms;

  /* ---------- Spacing ---------- */
  --cp-space-0: 2px;
  --cp-space-1: 4px;
  --cp-space-2: 8px;
  --cp-space-3: 12px;
  --cp-space-4: 16px;
  --cp-space-5: 24px;
  --cp-space-6: 32px;
  --cp-space-7: 48px;

  /* ---------- Z-Index Scale ---------- */
  --cp-z-dropdown: 100;
  --cp-z-sticky: 200;
  --cp-z-modal: 300;
  --cp-z-tooltip: 400;

  /* ---------- Breakpoints (for reference, use in @media) ---------- */
  --cp-bp-sm: 640px;
  --cp-bp-md: 768px;
  --cp-bp-lg: 1024px;
  --cp-bp-xl: 1280px;

  /* ---------- Radius ---------- */
  --cp-r-1: 10px;
  --cp-r-2: 14px;
  --cp-r-3: 18px;

  /* ---------- Shadows & Elevation ---------- */
  --cp-shadow-1: 0 1px 0 rgba(255, 255, 255, 0.04),
    0 10px 30px rgba(0, 0, 0, 0.35);
  --cp-shadow-2: 0 1px 0 rgba(255, 255, 255, 0.05),
    0 20px 60px rgba(0, 0, 0, 0.5);

  /* Elevation system (use for layered UI) */
  --cp-elevation-1: 0 2px 8px rgba(0, 0, 0, 0.3);
  --cp-elevation-2: 0 4px 16px rgba(0, 0, 0, 0.4);
  --cp-elevation-3: 0 8px 32px rgba(0, 0, 0, 0.5);

  /* ---------- Surfaces & Chips ---------- */
  --cp-chip-bg: color-mix(in srgb, var(--cp-bg2) 70%, transparent);
  --cp-chip-bg-active: color-mix(in srgb, var(--cp-accent) 22%, transparent);
  --cp-chip-border-active: color-mix(in srgb, var(--cp-accent) 45%, transparent);

  --cp-card-bg: linear-gradient(
    180deg,
    color-mix(in srgb, var(--cp-bg2) 92%, #ffffff 8%) 0%,
    color-mix(in srgb, var(--cp-bg2) 92%, #000000 8%) 100%
  );
  --cp-card-shadow: 0 10px 28px rgba(0, 0, 0, 0.35);
  --cp-card-shadow-hover: 0 14px 36px rgba(0, 0, 0, 0.42);
  --cp-card-border-hover: color-mix(in srgb, var(--cp-accent) 35%, var(--cp-border));
  --cp-card-glow: 0 8px 32px color-mix(in srgb, var(--cp-accent) 10%, transparent);

  /* ---------- Readout Typography (label -> value -> unit hierarchy) ---------- */
  --cp-readout-label-size: 0.75rem;
  --cp-readout-label-weight: 600;
  --cp-readout-label-tracking: 0.05em;
  --cp-readout-label-color: var(--cp-muted);
  --cp-readout-value-size: 1.5rem;
  --cp-readout-value-weight: 500;
  --cp-readout-value-color: var(--cp-accent-amber);
  --cp-readout-value-font: "SF Mono", "Fira Code", ui-monospace, SFMono-Regular,
    Menlo, Monaco, Consolas, monospace;
  --cp-readout-unit-size: 0.875rem;
  --cp-readout-unit-weight: 400;
  --cp-readout-unit-color: var(--cp-accent-ice);

  /* ---------- Status ---------- */
  --cp-status-draft-bg: color-mix(in srgb, var(--cp-pink) 18%, transparent);
  --cp-status-draft-text: color-mix(in srgb, var(--cp-pink) 85%, #ffffff 15%);
  --cp-status-beta-bg: color-mix(in srgb, var(--cp-accent) 18%, transparent);
  --cp-status-beta-text: color-mix(in srgb, var(--cp-accent) 85%, #ffffff 15%);

  /* ---------- Museum Atmosphere ---------- */
  --cp-museum-nebula-opacity: 0.08;
  --cp-museum-star-opacity: 0.40;

  /* ---------- PPE Phase Semantic Colors ---------- */
  --cp-phase-predict: var(--cp-violet);
  --cp-phase-play: var(--cp-accent);
  --cp-phase-explain: var(--cp-pink);

  /* ---------- Topic Wayfinding Colors (museum layer) ---------- */
  --cp-topic-earthsky:       var(--cp-celestial-earth);
  --cp-topic-orbits:         var(--cp-accent);
  --cp-topic-lightspectra:   var(--cp-violet);
  --cp-topic-telescopes:     #8BE9FD;
  --cp-topic-datainference:  #50FA7B;
  --cp-topic-stars:          var(--cp-celestial-sun);
  --cp-topic-galaxies:       var(--cp-pink);
  --cp-topic-cosmology:      var(--cp-celestial-sun-corona);

  /* ---------- Hero ---------- */
  --cp-hero-min-height: 50vh;
}

html,
body {
  background: var(--cp-bg0);
  color: var(--cp-text);
  font-family: var(--cp-font-sans);
  font-size: var(--cp-text-md);
  line-height: var(--cp-leading-normal);
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--cp-font-display);
  line-height: var(--cp-leading-tight);
}

h1 {
  font-size: var(--cp-text-4xl);
  font-weight: var(--cp-font-bold);
  letter-spacing: -0.025em;
  color: var(--cp-title-strong);
}

h2 {
  font-size: var(--cp-text-3xl);
  font-weight: var(--cp-font-bold);
  letter-spacing: -0.02em;
  color: var(--cp-title);
}

h3 {
  font-size: var(--cp-text-2xl);
  font-weight: var(--cp-font-semibold);
  letter-spacing: -0.015em;
  color: var(--cp-title);
}

h4 {
  font-size: var(--cp-text-xl);
  font-weight: var(--cp-font-semibold);
  letter-spacing: -0.01em;
  color: var(--cp-title);
}

a {
  color: var(--cp-link);
  text-decoration: none;
  text-decoration-color: color-mix(in srgb, var(--cp-link) 35%, transparent);
  text-underline-offset: 0.18em;
  transition: color var(--cp-transition-fast) var(--cp-ease-out);
}

a:hover {
  color: var(--cp-link-hover);
  text-decoration-color: color-mix(in srgb, var(--cp-link-hover) 55%, transparent);
}

a:active {
  color: var(--cp-link-active);
}

::selection {
  background: var(--cp-selection-bg);
  color: var(--cp-text);
}

:focus-visible {
  outline: 2px solid var(--cp-focus);
  outline-offset: 2px;
}
