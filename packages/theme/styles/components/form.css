/* packages/theme/styles/components/form.css */

.cp-input,
.cp-select,
.cp-textarea,
.cp-demo select {
  display: block;
  width: 100%;
  padding: var(--cp-space-3) var(--cp-space-4);
  font-size: var(--cp-text-md);
  font-family: inherit;
  line-height: var(--cp-leading-normal);
  color: var(--cp-text);
  background: var(--cp-input-bg);
  border: 1px solid var(--cp-input-border);
  border-radius: var(--cp-r-2);
  transition: border-color var(--cp-transition-fast) var(--cp-ease-out),
              box-shadow var(--cp-transition-fast) var(--cp-ease-out);
}

.cp-input:focus,
.cp-select:focus,
.cp-textarea:focus,
.cp-demo select:focus {
  outline: none;
  border-color: var(--cp-accent);
  box-shadow: 0 0 0 3px var(--cp-glow-teal);
}

.cp-input::placeholder,
.cp-textarea::placeholder {
  color: var(--cp-input-placeholder);
}

.cp-input:disabled,
.cp-select:disabled,
.cp-textarea:disabled,
.cp-demo select:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.cp-label {
  display: block;
  margin-bottom: var(--cp-space-2);
  font-size: var(--cp-text-sm);
  font-weight: var(--cp-font-medium);
  color: var(--cp-text2);
}

.cp-field {
  margin-bottom: var(--cp-space-5);
}

.cp-demo input[type="checkbox"],
.cp-demo input[type="radio"] {
  accent-color: var(--cp-accent);
}

.cp-field--error .cp-input,
.cp-field--error .cp-select,
.cp-field--error .cp-textarea {
  border-color: var(--cp-danger);
}

.cp-field--error .cp-input:focus,
.cp-field--error .cp-select:focus,
.cp-field--error .cp-textarea:focus {
  box-shadow: 0 0 0 3px var(--cp-glow-pink);
}

.cp-error-message {
  margin-top: var(--cp-space-2);
  font-size: var(--cp-text-sm);
  color: var(--cp-danger);
}

/* Range sliders (demo controls) */
.cp-range,
.cp-demo input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 9999px;
  background: color-mix(in srgb, var(--cp-bg2) 70%, transparent);
  cursor: pointer;
  outline: none;

  /* Updated by runtime polish JS (0%â€“100%) */
  --cp-range-progress: 50%;
}

.cp-range:focus-visible,
.cp-demo input[type="range"]:focus-visible {
  outline: 2px solid var(--cp-focus);
  outline-offset: 3px;
}

/* WebKit track fill uses a gradient driven by --cp-range-progress */
.cp-range::-webkit-slider-runnable-track,
.cp-demo input[type="range"]::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: 9999px;
  background: linear-gradient(
    to right,
    var(--cp-accent) 0%,
    var(--cp-accent) var(--cp-range-progress),
    color-mix(in srgb, var(--cp-bg2) 70%, transparent) var(--cp-range-progress),
    color-mix(in srgb, var(--cp-bg2) 70%, transparent) 100%
  );
}

.cp-range::-webkit-slider-thumb,
.cp-demo input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  margin-top: -7px; /* centers thumb on 6px track */
  border-radius: 9999px;
  background: var(--cp-bg1);
  border: 2px solid var(--cp-accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--cp-accent) 18%, transparent);
  transition:
    transform var(--cp-transition-fast) var(--cp-ease-out),
    box-shadow var(--cp-transition-fast) var(--cp-ease-out);
}

.cp-range:hover::-webkit-slider-thumb,
.cp-demo input[type="range"]:hover::-webkit-slider-thumb {
  transform: scale(1.1);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--cp-accent) 22%, transparent);
}

.cp-range:active::-webkit-slider-thumb,
.cp-demo input[type="range"]:active::-webkit-slider-thumb {
  transform: scale(1.15);
}

/* Firefox track fill */
.cp-range::-moz-range-track,
.cp-demo input[type="range"]::-moz-range-track {
  height: 6px;
  border-radius: 9999px;
  background: color-mix(in srgb, var(--cp-bg2) 70%, transparent);
}

.cp-range::-moz-range-progress,
.cp-demo input[type="range"]::-moz-range-progress {
  height: 6px;
  border-radius: 9999px;
  background: var(--cp-accent);
}

.cp-range::-moz-range-thumb,
.cp-demo input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 9999px;
  background: var(--cp-bg1);
  border: 2px solid var(--cp-accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--cp-accent) 18%, transparent);
  transition:
    transform var(--cp-transition-fast) var(--cp-ease-out),
    box-shadow var(--cp-transition-fast) var(--cp-ease-out);
}

.cp-range:hover::-moz-range-thumb,
.cp-demo input[type="range"]:hover::-moz-range-thumb {
  transform: scale(1.1);
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--cp-accent) 22%, transparent);
}

.cp-range:active::-moz-range-thumb,
.cp-demo input[type="range"]:active::-moz-range-thumb {
  transform: scale(1.15);
}

@media (prefers-reduced-motion: reduce) {
  .cp-input,
  .cp-select,
  .cp-textarea,
  .cp-range::-webkit-slider-thumb,
  .cp-demo input[type="range"]::-webkit-slider-thumb,
  .cp-range::-moz-range-thumb,
  .cp-demo input[type="range"]::-moz-range-thumb {
    transition: none;
  }
}
